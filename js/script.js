var scene=document.getElementById("scene"),parallaxInstance=new Parallax(scene,{});const welcomeScreen=document.querySelector(".welcome-screen"),startBtn=document.querySelector(".welcome-screen button"),infoBox=document.querySelector(".info-box"),exitBtn=infoBox.querySelector(".buttons .quit"),continueBtn=infoBox.querySelector(".buttons .restart"),quizBox=document.querySelector(".quiz-box"),resultBox=document.querySelector(".result-box"),optionList=document.querySelector(".option-list"),timeLine=document.querySelector("header .time-line"),timeText=document.querySelector(".timer .time-left-txt"),timeCount=document.querySelector(".timer .timer-sec");startBtn.onclick=()=>{welcomeScreen.classList.remove("visible"),infoBox.classList.add("visible")},exitBtn.onclick=()=>{infoBox.classList.remove("visible"),welcomeScreen.classList.add("visible")},continueBtn.onclick=()=>{infoBox.classList.remove("visible"),quizBox.classList.add("visible"),showQuestions(0),queCounter(1),startTimer(15),startTimerLine(0)};let counter,counterLine,timeValue=15,totalTime=0,queCount=0,queNumb=1,userScore=0,widthValue=0;const restartQuiz=resultBox.querySelector(".buttons .restart"),quitQuiz=resultBox.querySelector(".buttons .quit");restartQuiz.onclick=()=>{quizBox.classList.add("visible"),resultBox.classList.remove("visible"),timeValue=15,queCount=0,queNumb=1,userScore=0,widthValue=0,showQuestions(queCount),queCounter(queNumb),clearInterval(counter),clearInterval(counterLine),startTimer(timeValue),startTimerLine(widthValue),timeText.textContent="Preostalo vrijeme",nextBtn.classList.remove("show")},quitQuiz.onclick=()=>{window.location.reload()};const nextBtn=document.querySelector("footer .next-btn"),bottomQuesCounter=document.querySelector("footer .total-que");function showQuestions(e){const t=document.querySelector(".que-text");let n="<span>"+questions[e].numb+". "+questions[e].question+"</span>",o="";for(let t=0;t<questions[e].options.length;t++)o+='<div class="option"><span>'+questions[e].options[t]+"</span></div>";t.innerHTML=n,optionList.innerHTML=o;const s=optionList.querySelectorAll(".option");for(i=0;i<s.length;i++)s[i].setAttribute("onclick","optionSelected(this)")}nextBtn.onclick=()=>{totalTime+=timeValue-parseInt(timeCount.textContent),queCount<questions.length-1?(queCount++,queNumb++,showQuestions(queCount),queCounter(queNumb),clearInterval(counter),clearInterval(counterLine),startTimer(timeValue),startTimerLine(widthValue),timeText.textContent="Time Left",nextBtn.classList.remove("show")):(clearInterval(counter),clearInterval(counterLine),showResult())};let tickIconTag='<div class="icon tick"><i class="fas fa-check"></i></div>',crossIconTag='<div class="icon cross"><i class="fas fa-times"></i></div>';function optionSelected(e){clearInterval(counter),clearInterval(counterLine);let t=e.textContent,n=questions[queCount].answer;const o=optionList.children.length;if(t==n)userScore+=1,e.classList.add("correct"),e.insertAdjacentHTML("beforeend",tickIconTag);else for(e.classList.add("incorrect"),e.insertAdjacentHTML("beforeend",crossIconTag),i=0;i<o;i++)optionList.children[i].textContent==n&&(optionList.children[i].setAttribute("class","option correct"),optionList.children[i].insertAdjacentHTML("beforeend",tickIconTag));for(i=0;i<o;i++)optionList.children[i].classList.add("disabled");nextBtn.classList.add("show")}function showResult(){infoBox.classList.remove("visible"),quizBox.classList.remove("visible"),resultBox.classList.add("visible");const e=resultBox.querySelector(".score-text");let t="";t=userScore>Math.ceil(.3*questions.length)?"<p>Čestitamo! 🎉<br>Točno ste odgovorili na <span>"+userScore+"</span>&nbsp;od&nbsp;<span>"+questions.length+"</span>&nbsp;pitanja.</p>":userScore>1?"<p>Čestitamo! 😎<br>Točno ste odgovorili na <span>"+userScore+"</span>&nbsp;od&nbsp;<span>"+questions.length+"</span>&nbsp;pitanja.</p>":1==userScore?"<p>Ups! 😐<br>Točno ste odgovorili na samo <span>jedno</span>&nbsp;od&nbsp;<span>"+questions.length+"</span>&nbsp;pitanja.</p>":"<p>Ups! 😒<br>Netočno ste odgovorili na sva pitanja.</p>",t+="<p>Utrošeno vrijeme: <span>"+totalTime+"</span> sek.</p>",e.innerHTML=t}function startTimer(e){counter=setInterval((function(){if(timeCount.textContent=e,--e<9){let e=timeCount.textContent;timeCount.textContent="0"+e}if(e<0){clearInterval(counter),timeText.textContent="Vrijeme je isteklo";const e=optionList.children.length;let t=questions[queCount].answer;for(i=0;i<e;i++)optionList.children[i].textContent==t&&(optionList.children[i].setAttribute("class","option correct"),optionList.children[i].insertAdjacentHTML("beforeend",tickIconTag));for(i=0;i<e;i++)optionList.children[i].classList.add("disabled");nextBtn.classList.add("show")}}),1e3)}function startTimerLine(e){counterLine=setInterval((function(){e+=1,timeLine.style.width=e+"px",e>549&&clearInterval(counterLine)}),29)}function queCounter(e){let t="<span><p>"+e+".</p> od <p>"+questions.length+"</p> pitanja</span>";bottomQuesCounter.innerHTML=t}